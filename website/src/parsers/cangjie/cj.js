import defaultParserInterface from '../utils/defaultParserInterface';

const ID = 'cj';

const res = {"_type":"Program","decls":[{"_type":"ClassDecl","beginPos":{"line":6,"column":1},"endPos":{"line":45,"column":2},"body":{"_type":"Body","decls":[{"_type":"VarDecl","beginPos":{"line":7,"column":5},"endPos":{"line":7,"column":48},"assign":{"kind":"ASSIGN","value":"=","pos":{"line":7,"column":23}},"colon":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"expr":{"_type":"CallExpr","beginPos":{"line":7,"column":25},"endPos":{"line":7,"column":48},"arguments":[],"callFunc":{"_type":"RefExpr","beginPos":{"line":7,"column":25},"endPos":{"line":7,"column":46},"commas":[],"identifier":{"kind":"IDENTIFIER","value":"ArrayList","pos":{"line":7,"column":25}},"lAngle":{"kind":"LT","value":"<","pos":{"line":7,"column":34}},"rAngle":{"kind":"GT","value":">","pos":{"line":7,"column":45}},"typeArguments":[{"_type":"TypeNode","beginPos":{"line":7,"column":35},"endPos":{"line":7,"column":45},"typeParameterName":{"kind":"IDENTIFIER","value":"","pos":{"line":85,"column":13}},"colon":{"kind":"COLON","value":":","pos":{"line":0,"column":0}}}]},"lParen":{"kind":"LPAREN","value":"(","pos":{"line":7,"column":46}},"rParen":{"kind":"RPAREN","value":")","pos":{"line":7,"column":47}}}},{"_type":"FuncDecl","beginPos":{"line":9,"column":5},"endPos":{"line":11,"column":6},"block":{"_type":"Block","lBrace":{"kind":"LCURL","value":"{","pos":{"line":9,"column":25}},"nodes":[{"_type":"CallExpr","beginPos":{"line":10,"column":9},"endPos":{"line":10,"column":29},"arguments":[{"_type":"Argument","beginPos":{"line":10,"column":17},"endPos":{"line":10,"column":28},"colon":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"expr":{"_type":"MemberAccess","beginPos":{"line":10,"column":17},"endPos":{"line":10,"column":28},"baseExpr":{"_type":"RefExpr","beginPos":{"line":10,"column":17},"endPos":{"line":10,"column":23},"commas":[],"identifier":{"kind":"IDENTIFIER","value":"result","pos":{"line":10,"column":17}},"lAngle":{"kind":"LT","value":"<","pos":{"line":0,"column":0}},"rAngle":{"kind":"GT","value":">","pos":{"line":0,"column":0}},"typeArguments":[]},"commas":[],"dot":{"kind":"DOT","value":".","pos":{"line":10,"column":23}},"field":{"kind":"IDENTIFIER","value":"size","pos":{"line":10,"column":24}},"lAngle":{"kind":"LT","value":"<","pos":{"line":0,"column":0}},"rAngle":{"kind":"GT","value":">","pos":{"line":0,"column":0}},"typeArguments":[]},"identifier":{"kind":"IDENTIFIER","value":"","pos":{"line":0,"column":0}},"keyword":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}}}],"callFunc":{"_type":"RefExpr","beginPos":{"line":10,"column":9},"endPos":{"line":10,"column":16},"commas":[],"identifier":{"kind":"IDENTIFIER","value":"println","pos":{"line":10,"column":9}},"lAngle":{"kind":"LT","value":"<","pos":{"line":0,"column":0}},"rAngle":{"kind":"GT","value":">","pos":{"line":0,"column":0}},"typeArguments":[]},"lParen":{"kind":"LPAREN","value":"(","pos":{"line":10,"column":16}},"rParen":{"kind":"RPAREN","value":")","pos":{"line":10,"column":28}}}],"rBrace":{"kind":"RCURL","value":"}","pos":{"line":11,"column":5}}},"colon":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"funcParams":[],"lParen":{"kind":"LPAREN","value":"(","pos":{"line":9,"column":22}},"overloadOp":[],"rParen":{"kind":"RPAREN","value":")","pos":{"line":9,"column":23}}},{"_type":"FuncDecl","beginPos":{"line":13,"column":5},"endPos":{"line":28,"column":6},"block":{"_type":"Block","lBrace":{"kind":"LCURL","value":"{","pos":{"line":13,"column":54}},"nodes":[{"_type":"VarDecl","beginPos":{"line":14,"column":9},"endPos":{"line":18,"column":10},"assign":{"kind":"ASSIGN","value":"=","pos":{"line":14,"column":25}},"colon":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"expr":{"_type":"MatchExpr","beginPos":{"line":14,"column":27},"endPos":{"line":18,"column":10},"keyword":{"kind":"MATCH","value":"match","pos":{"line":14,"column":27}},"lBrace":{"kind":"LCURL","value":"{","pos":{"line":14,"column":49}},"lParen":{"kind":"LPAREN","value":"(","pos":{"line":14,"column":33}},"matchCases":[{"_type":"MatchCase","arrow":{"kind":"DOUBLE_ARROW","value":"=>","pos":{"line":15,"column":37}},"bitOrs":[],"block":{"_type":"Block","lBrace":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"nodes":[{"_type":"LitConstExpr","beginPos":{"line":15,"column":40},"endPos":{"line":15,"column":44},"literal":{"kind":"BOOL_LITERAL","value":"true","pos":{"line":15,"column":40}}}],"rBrace":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}}},"keywordC":{"kind":"CASE","value":"case","pos":{"line":15,"column":13}},"keywordW":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"patterns":[{"_type":"Pattern","beginPos":{"line":15,"column":18},"endPos":{"line":15,"column":36}}]},{"_type":"MatchCase","arrow":{"kind":"DOUBLE_ARROW","value":"=>","pos":{"line":16,"column":35}},"bitOrs":[],"block":{"_type":"Block","lBrace":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"nodes":[{"_type":"CallExpr","beginPos":{"line":16,"column":38},"endPos":{"line":16,"column":55},"arguments":[{"_type":"Argument","beginPos":{"line":16,"column":50},"endPos":{"line":16,"column":54},"colon":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"expr":{"_type":"RefExpr","beginPos":{"line":16,"column":50},"endPos":{"line":16,"column":54},"commas":[],"identifier":{"kind":"IDENTIFIER","value":"left","pos":{"line":16,"column":50}},"lAngle":{"kind":"LT","value":"<","pos":{"line":0,"column":0}},"rAngle":{"kind":"GT","value":">","pos":{"line":0,"column":0}},"typeArguments":[]},"identifier":{"kind":"IDENTIFIER","value":"","pos":{"line":0,"column":0}},"keyword":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}}}],"callFunc":{"_type":"RefExpr","beginPos":{"line":16,"column":38},"endPos":{"line":16,"column":49},"commas":[],"identifier":{"kind":"IDENTIFIER","value":"isConstExpr","pos":{"line":16,"column":38}},"lAngle":{"kind":"LT","value":"<","pos":{"line":0,"column":0}},"rAngle":{"kind":"GT","value":">","pos":{"line":0,"column":0}},"typeArguments":[]},"lParen":{"kind":"LPAREN","value":"(","pos":{"line":16,"column":49}},"rParen":{"kind":"RPAREN","value":")","pos":{"line":16,"column":54}}}],"rBrace":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}}},"keywordC":{"kind":"CASE","value":"case","pos":{"line":16,"column":13}},"keywordW":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"patterns":[{"_type":"Pattern","beginPos":{"line":16,"column":18},"endPos":{"line":16,"column":34}}]},{"_type":"MatchCase","arrow":{"kind":"DOUBLE_ARROW","value":"=>","pos":{"line":17,"column":20}},"bitOrs":[],"block":{"_type":"Block","lBrace":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"nodes":[{"_type":"LitConstExpr","beginPos":{"line":17,"column":23},"endPos":{"line":17,"column":28},"literal":{"kind":"BOOL_LITERAL","value":"false","pos":{"line":17,"column":23}}}],"rBrace":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}}},"keywordC":{"kind":"CASE","value":"case","pos":{"line":17,"column":13}},"keywordW":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"patterns":[{"_type":"Pattern","beginPos":{"line":17,"column":18},"endPos":{"line":17,"column":19}}]}],"rBrace":{"kind":"RCURL","value":"}","pos":{"line":18,"column":9}},"rParen":{"kind":"RPAREN","value":")","pos":{"line":14,"column":47}},"selector":{"_type":"MemberAccess","beginPos":{"line":14,"column":34},"endPos":{"line":14,"column":47},"baseExpr":{"_type":"RefExpr","beginPos":{"line":14,"column":34},"endPos":{"line":14,"column":38},"commas":[],"identifier":{"kind":"IDENTIFIER","value":"expr","pos":{"line":14,"column":34}},"lAngle":{"kind":"LT","value":"<","pos":{"line":0,"column":0}},"rAngle":{"kind":"GT","value":">","pos":{"line":0,"column":0}},"typeArguments":[]},"commas":[],"dot":{"kind":"DOT","value":".","pos":{"line":14,"column":38}},"field":{"kind":"IDENTIFIER","value":"leftExpr","pos":{"line":14,"column":39}},"lAngle":{"kind":"LT","value":"<","pos":{"line":0,"column":0}},"rAngle":{"kind":"GT","value":">","pos":{"line":0,"column":0}},"typeArguments":[]}}},{"_type":"IfExpr","beginPos":{"line":19,"column":9},"endPos":{"line":21,"column":10},"condition":{"_type":"UnaryExpr","beginPos":{"line":19,"column":13},"endPos":{"line":19,"column":25},"expr":{"_type":"RefExpr","beginPos":{"line":19,"column":14},"endPos":{"line":19,"column":25},"commas":[],"identifier":{"kind":"IDENTIFIER","value":"isLeftConst","pos":{"line":19,"column":14}},"lAngle":{"kind":"LT","value":"<","pos":{"line":0,"column":0}},"rAngle":{"kind":"GT","value":">","pos":{"line":0,"column":0}},"typeArguments":[]},"op":{"kind":"NOT","value":"!","pos":{"line":19,"column":13}}},"ifBlock":{"_type":"Block","lBrace":{"kind":"LCURL","value":"{","pos":{"line":19,"column":27}},"nodes":[{"_type":"ReturnExpr","beginPos":{"line":20,"column":13},"endPos":{"line":20,"column":25},"expr":{"_type":"LitConstExpr","beginPos":{"line":20,"column":20},"endPos":{"line":20,"column":25},"literal":{"kind":"BOOL_LITERAL","value":"false","pos":{"line":20,"column":20}}},"keyword":{"kind":"RETURN","value":"return","pos":{"line":20,"column":13}}}],"rBrace":{"kind":"RCURL","value":"}","pos":{"line":21,"column":9}}},"keywordE":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"keywordI":{"kind":"IF","value":"if","pos":{"line":19,"column":9}},"lParen":{"kind":"LPAREN","value":"(","pos":{"line":19,"column":12}},"rParen":{"kind":"RPAREN","value":")","pos":{"line":19,"column":25}}},{"_type":"VarDecl","beginPos":{"line":22,"column":9},"endPos":{"line":26,"column":10},"assign":{"kind":"ASSIGN","value":"=","pos":{"line":22,"column":26}},"colon":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"expr":{"_type":"MatchExpr","beginPos":{"line":22,"column":28},"endPos":{"line":26,"column":10},"keyword":{"kind":"MATCH","value":"match","pos":{"line":22,"column":28}},"lBrace":{"kind":"LCURL","value":"{","pos":{"line":22,"column":51}},"lParen":{"kind":"LPAREN","value":"(","pos":{"line":22,"column":34}},"matchCases":[{"_type":"MatchCase","arrow":{"kind":"DOUBLE_ARROW","value":"=>","pos":{"line":23,"column":38}},"bitOrs":[],"block":{"_type":"Block","lBrace":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"nodes":[{"_type":"LitConstExpr","beginPos":{"line":23,"column":41},"endPos":{"line":23,"column":45},"literal":{"kind":"BOOL_LITERAL","value":"true","pos":{"line":23,"column":41}}}],"rBrace":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}}},"keywordC":{"kind":"CASE","value":"case","pos":{"line":23,"column":13}},"keywordW":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"patterns":[{"_type":"Pattern","beginPos":{"line":23,"column":18},"endPos":{"line":23,"column":37}}]},{"_type":"MatchCase","arrow":{"kind":"DOUBLE_ARROW","value":"=>","pos":{"line":24,"column":36}},"bitOrs":[],"block":{"_type":"Block","lBrace":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"nodes":[{"_type":"CallExpr","beginPos":{"line":24,"column":39},"endPos":{"line":24,"column":57},"arguments":[{"_type":"Argument","beginPos":{"line":24,"column":51},"endPos":{"line":24,"column":56},"colon":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"expr":{"_type":"RefExpr","beginPos":{"line":24,"column":51},"endPos":{"line":24,"column":56},"commas":[],"identifier":{"kind":"IDENTIFIER","value":"right","pos":{"line":24,"column":51}},"lAngle":{"kind":"LT","value":"<","pos":{"line":0,"column":0}},"rAngle":{"kind":"GT","value":">","pos":{"line":0,"column":0}},"typeArguments":[]},"identifier":{"kind":"IDENTIFIER","value":"","pos":{"line":0,"column":0}},"keyword":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}}}],"callFunc":{"_type":"RefExpr","beginPos":{"line":24,"column":39},"endPos":{"line":24,"column":50},"commas":[],"identifier":{"kind":"IDENTIFIER","value":"isConstExpr","pos":{"line":24,"column":39}},"lAngle":{"kind":"LT","value":"<","pos":{"line":0,"column":0}},"rAngle":{"kind":"GT","value":">","pos":{"line":0,"column":0}},"typeArguments":[]},"lParen":{"kind":"LPAREN","value":"(","pos":{"line":24,"column":50}},"rParen":{"kind":"RPAREN","value":")","pos":{"line":24,"column":56}}}],"rBrace":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}}},"keywordC":{"kind":"CASE","value":"case","pos":{"line":24,"column":13}},"keywordW":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"patterns":[{"_type":"Pattern","beginPos":{"line":24,"column":18},"endPos":{"line":24,"column":35}}]},{"_type":"MatchCase","arrow":{"kind":"DOUBLE_ARROW","value":"=>","pos":{"line":25,"column":20}},"bitOrs":[],"block":{"_type":"Block","lBrace":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"nodes":[{"_type":"LitConstExpr","beginPos":{"line":25,"column":23},"endPos":{"line":25,"column":28},"literal":{"kind":"BOOL_LITERAL","value":"false","pos":{"line":25,"column":23}}}],"rBrace":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}}},"keywordC":{"kind":"CASE","value":"case","pos":{"line":25,"column":13}},"keywordW":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"patterns":[{"_type":"Pattern","beginPos":{"line":25,"column":18},"endPos":{"line":25,"column":19}}]}],"rBrace":{"kind":"RCURL","value":"}","pos":{"line":26,"column":9}},"rParen":{"kind":"RPAREN","value":")","pos":{"line":22,"column":49}},"selector":{"_type":"MemberAccess","beginPos":{"line":22,"column":35},"endPos":{"line":22,"column":49},"baseExpr":{"_type":"RefExpr","beginPos":{"line":22,"column":35},"endPos":{"line":22,"column":39},"commas":[],"identifier":{"kind":"IDENTIFIER","value":"expr","pos":{"line":22,"column":35}},"lAngle":{"kind":"LT","value":"<","pos":{"line":0,"column":0}},"rAngle":{"kind":"GT","value":">","pos":{"line":0,"column":0}},"typeArguments":[]},"commas":[],"dot":{"kind":"DOT","value":".","pos":{"line":22,"column":39}},"field":{"kind":"IDENTIFIER","value":"rightExpr","pos":{"line":22,"column":40}},"lAngle":{"kind":"LT","value":"<","pos":{"line":0,"column":0}},"rAngle":{"kind":"GT","value":">","pos":{"line":0,"column":0}},"typeArguments":[]}}},{"_type":"RefExpr","beginPos":{"line":27,"column":9},"endPos":{"line":27,"column":21},"commas":[],"identifier":{"kind":"IDENTIFIER","value":"isRightConst","pos":{"line":27,"column":9}},"lAngle":{"kind":"LT","value":"<","pos":{"line":0,"column":0}},"rAngle":{"kind":"GT","value":">","pos":{"line":0,"column":0}},"typeArguments":[]}],"rBrace":{"kind":"RCURL","value":"}","pos":{"line":28,"column":5}}},"colon":{"kind":"COLON","value":":","pos":{"line":13,"column":47}},"declType":{"_type":"TypeNode","beginPos":{"line":13,"column":49},"endPos":{"line":13,"column":53},"typeParameterName":{"kind":"IDENTIFIER","value":"","pos":{"line":13,"column":49}},"colon":{"kind":"COLON","value":":","pos":{"line":0,"column":0}}},"funcParams":[{"_type":"FuncParam","assign":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"colon":{"kind":"COLON","value":":","pos":{"line":13,"column":34}},"not":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"paramType":{"_type":"TypeNode","beginPos":{"line":13,"column":36},"endPos":{"line":13,"column":46},"typeParameterName":{"kind":"IDENTIFIER","value":"","pos":{"line":85,"column":13}},"colon":{"kind":"COLON","value":":","pos":{"line":0,"column":0}}}}],"lParen":{"kind":"LPAREN","value":"(","pos":{"line":13,"column":29}},"overloadOp":[],"rParen":{"kind":"RPAREN","value":")","pos":{"line":13,"column":46}}},{"_type":"FuncDecl","beginPos":{"line":30,"column":5},"endPos":{"line":36,"column":6},"block":{"_type":"Block","lBrace":{"kind":"LCURL","value":"{","pos":{"line":30,"column":53}},"nodes":[{"_type":"MatchExpr","beginPos":{"line":31,"column":9},"endPos":{"line":35,"column":10},"keyword":{"kind":"MATCH","value":"match","pos":{"line":31,"column":9}},"lBrace":{"kind":"LCURL","value":"{","pos":{"line":31,"column":40}},"lParen":{"kind":"LPAREN","value":"(","pos":{"line":31,"column":15}},"matchCases":[{"_type":"MatchCase","arrow":{"kind":"DOUBLE_ARROW","value":"=>","pos":{"line":32,"column":36}},"bitOrs":[],"block":{"_type":"Block","lBrace":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"nodes":[{"_type":"CallExpr","beginPos":{"line":32,"column":39},"endPos":{"line":32,"column":57},"arguments":[{"_type":"Argument","beginPos":{"line":32,"column":51},"endPos":{"line":32,"column":56},"colon":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"expr":{"_type":"RefExpr","beginPos":{"line":32,"column":51},"endPos":{"line":32,"column":56},"commas":[],"identifier":{"kind":"IDENTIFIER","value":"inner","pos":{"line":32,"column":51}},"lAngle":{"kind":"LT","value":"<","pos":{"line":0,"column":0}},"rAngle":{"kind":"GT","value":">","pos":{"line":0,"column":0}},"typeArguments":[]},"identifier":{"kind":"IDENTIFIER","value":"","pos":{"line":0,"column":0}},"keyword":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}}}],"callFunc":{"_type":"RefExpr","beginPos":{"line":32,"column":39},"endPos":{"line":32,"column":50},"commas":[],"identifier":{"kind":"IDENTIFIER","value":"isConstExpr","pos":{"line":32,"column":39}},"lAngle":{"kind":"LT","value":"<","pos":{"line":0,"column":0}},"rAngle":{"kind":"GT","value":">","pos":{"line":0,"column":0}},"typeArguments":[]},"lParen":{"kind":"LPAREN","value":"(","pos":{"line":32,"column":50}},"rParen":{"kind":"RPAREN","value":")","pos":{"line":32,"column":56}}}],"rBrace":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}}},"keywordC":{"kind":"CASE","value":"case","pos":{"line":32,"column":13}},"keywordW":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"patterns":[{"_type":"Pattern","beginPos":{"line":32,"column":18},"endPos":{"line":32,"column":35}}]},{"_type":"MatchCase","arrow":{"kind":"DOUBLE_ARROW","value":"=>","pos":{"line":33,"column":38}},"bitOrs":[],"block":{"_type":"Block","lBrace":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"nodes":[{"_type":"LitConstExpr","beginPos":{"line":33,"column":41},"endPos":{"line":33,"column":45},"literal":{"kind":"BOOL_LITERAL","value":"true","pos":{"line":33,"column":41}}}],"rBrace":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}}},"keywordC":{"kind":"CASE","value":"case","pos":{"line":33,"column":13}},"keywordW":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"patterns":[{"_type":"Pattern","beginPos":{"line":33,"column":18},"endPos":{"line":33,"column":37}}]},{"_type":"MatchCase","arrow":{"kind":"DOUBLE_ARROW","value":"=>","pos":{"line":34,"column":20}},"bitOrs":[],"block":{"_type":"Block","lBrace":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"nodes":[{"_type":"LitConstExpr","beginPos":{"line":34,"column":23},"endPos":{"line":34,"column":28},"literal":{"kind":"BOOL_LITERAL","value":"false","pos":{"line":34,"column":23}}}],"rBrace":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}}},"keywordC":{"kind":"CASE","value":"case","pos":{"line":34,"column":13}},"keywordW":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"patterns":[{"_type":"Pattern","beginPos":{"line":34,"column":18},"endPos":{"line":34,"column":19}}]}],"rBrace":{"kind":"RCURL","value":"}","pos":{"line":35,"column":9}},"rParen":{"kind":"RPAREN","value":")","pos":{"line":31,"column":38}},"selector":{"_type":"MemberAccess","beginPos":{"line":31,"column":16},"endPos":{"line":31,"column":38},"baseExpr":{"_type":"RefExpr","beginPos":{"line":31,"column":16},"endPos":{"line":31,"column":20},"commas":[],"identifier":{"kind":"IDENTIFIER","value":"expr","pos":{"line":31,"column":16}},"lAngle":{"kind":"LT","value":"<","pos":{"line":0,"column":0}},"rAngle":{"kind":"GT","value":">","pos":{"line":0,"column":0}},"typeArguments":[]},"commas":[],"dot":{"kind":"DOT","value":".","pos":{"line":31,"column":20}},"field":{"kind":"IDENTIFIER","value":"parenthesizedExpr","pos":{"line":31,"column":21}},"lAngle":{"kind":"LT","value":"<","pos":{"line":0,"column":0}},"rAngle":{"kind":"GT","value":">","pos":{"line":0,"column":0}},"typeArguments":[]}}],"rBrace":{"kind":"RCURL","value":"}","pos":{"line":36,"column":5}}},"colon":{"kind":"COLON","value":":","pos":{"line":30,"column":46}},"declType":{"_type":"TypeNode","beginPos":{"line":30,"column":48},"endPos":{"line":30,"column":52},"typeParameterName":{"kind":"IDENTIFIER","value":"","pos":{"line":30,"column":48}},"colon":{"kind":"COLON","value":":","pos":{"line":0,"column":0}}},"funcParams":[{"_type":"FuncParam","assign":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"colon":{"kind":"COLON","value":":","pos":{"line":30,"column":34}},"not":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"paramType":{"_type":"TypeNode","beginPos":{"line":30,"column":36},"endPos":{"line":30,"column":45},"typeParameterName":{"kind":"IDENTIFIER","value":"","pos":{"line":85,"column":13}},"colon":{"kind":"COLON","value":":","pos":{"line":0,"column":0}}}}],"lParen":{"kind":"LPAREN","value":"(","pos":{"line":30,"column":29}},"overloadOp":[],"rParen":{"kind":"RPAREN","value":")","pos":{"line":30,"column":45}}},{"_type":"FuncDecl","beginPos":{"line":38,"column":5},"endPos":{"line":44,"column":6},"block":{"_type":"Block","lBrace":{"kind":"LCURL","value":"{","pos":{"line":38,"column":50}},"nodes":[{"_type":"IfExpr","beginPos":{"line":39,"column":9},"endPos":{"line":42,"column":10},"condition":{"_type":"CallExpr","beginPos":{"line":39,"column":13},"endPos":{"line":39,"column":30},"arguments":[{"_type":"Argument","beginPos":{"line":39,"column":25},"endPos":{"line":39,"column":29},"colon":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"expr":{"_type":"RefExpr","beginPos":{"line":39,"column":25},"endPos":{"line":39,"column":29},"commas":[],"identifier":{"kind":"IDENTIFIER","value":"expr","pos":{"line":39,"column":25}},"lAngle":{"kind":"LT","value":"<","pos":{"line":0,"column":0}},"rAngle":{"kind":"GT","value":">","pos":{"line":0,"column":0}},"typeArguments":[]},"identifier":{"kind":"IDENTIFIER","value":"","pos":{"line":0,"column":0}},"keyword":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}}}],"callFunc":{"_type":"RefExpr","beginPos":{"line":39,"column":13},"endPos":{"line":39,"column":24},"commas":[],"identifier":{"kind":"IDENTIFIER","value":"isConstExpr","pos":{"line":39,"column":13}},"lAngle":{"kind":"LT","value":"<","pos":{"line":0,"column":0}},"rAngle":{"kind":"GT","value":">","pos":{"line":0,"column":0}},"typeArguments":[]},"lParen":{"kind":"LPAREN","value":"(","pos":{"line":39,"column":24}},"rParen":{"kind":"RPAREN","value":")","pos":{"line":39,"column":29}}},"ifBlock":{"_type":"Block","lBrace":{"kind":"LCURL","value":"{","pos":{"line":39,"column":32}},"nodes":[{"_type":"CallExpr","beginPos":{"line":40,"column":13},"endPos":{"line":40,"column":32},"arguments":[{"_type":"Argument","beginPos":{"line":40,"column":27},"endPos":{"line":40,"column":31},"colon":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"expr":{"_type":"RefExpr","beginPos":{"line":40,"column":27},"endPos":{"line":40,"column":31},"commas":[],"identifier":{"kind":"IDENTIFIER","value":"expr","pos":{"line":40,"column":27}},"lAngle":{"kind":"LT","value":"<","pos":{"line":0,"column":0}},"rAngle":{"kind":"GT","value":">","pos":{"line":0,"column":0}},"typeArguments":[]},"identifier":{"kind":"IDENTIFIER","value":"","pos":{"line":0,"column":0}},"keyword":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}}}],"callFunc":{"_type":"MemberAccess","beginPos":{"line":40,"column":13},"endPos":{"line":40,"column":26},"baseExpr":{"_type":"RefExpr","beginPos":{"line":40,"column":13},"endPos":{"line":40,"column":19},"commas":[],"identifier":{"kind":"IDENTIFIER","value":"result","pos":{"line":40,"column":13}},"lAngle":{"kind":"LT","value":"<","pos":{"line":0,"column":0}},"rAngle":{"kind":"GT","value":">","pos":{"line":0,"column":0}},"typeArguments":[]},"commas":[],"dot":{"kind":"DOT","value":".","pos":{"line":40,"column":19}},"field":{"kind":"IDENTIFIER","value":"append","pos":{"line":40,"column":20}},"lAngle":{"kind":"LT","value":"<","pos":{"line":0,"column":0}},"rAngle":{"kind":"GT","value":">","pos":{"line":0,"column":0}},"typeArguments":[]},"lParen":{"kind":"LPAREN","value":"(","pos":{"line":40,"column":26}},"rParen":{"kind":"RPAREN","value":")","pos":{"line":40,"column":31}}},{"_type":"CallExpr","beginPos":{"line":41,"column":13},"endPos":{"line":41,"column":28},"arguments":[],"callFunc":{"_type":"RefExpr","beginPos":{"line":41,"column":13},"endPos":{"line":41,"column":26},"commas":[],"identifier":{"kind":"IDENTIFIER","value":"breakTraverse","pos":{"line":41,"column":13}},"lAngle":{"kind":"LT","value":"<","pos":{"line":0,"column":0}},"rAngle":{"kind":"GT","value":">","pos":{"line":0,"column":0}},"typeArguments":[]},"lParen":{"kind":"LPAREN","value":"(","pos":{"line":41,"column":26}},"rParen":{"kind":"RPAREN","value":")","pos":{"line":41,"column":27}}}],"rBrace":{"kind":"RCURL","value":"}","pos":{"line":42,"column":9}}},"keywordE":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"keywordI":{"kind":"IF","value":"if","pos":{"line":39,"column":9}},"lParen":{"kind":"LPAREN","value":"(","pos":{"line":39,"column":12}},"rParen":{"kind":"RPAREN","value":")","pos":{"line":39,"column":30}}},{"_type":"ReturnExpr","beginPos":{"line":43,"column":9},"endPos":{"line":43,"column":15},"keyword":{"kind":"RETURN","value":"return","pos":{"line":43,"column":9}}}],"rBrace":{"kind":"RCURL","value":"}","pos":{"line":44,"column":5}}},"colon":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"funcParams":[{"_type":"FuncParam","assign":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"colon":{"kind":"COLON","value":":","pos":{"line":38,"column":36}},"not":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"paramType":{"_type":"TypeNode","beginPos":{"line":38,"column":38},"endPos":{"line":38,"column":48},"typeParameterName":{"kind":"IDENTIFIER","value":"","pos":{"line":85,"column":13}},"colon":{"kind":"COLON","value":":","pos":{"line":0,"column":0}}}}],"lParen":{"kind":"LPAREN","value":"(","pos":{"line":38,"column":31}},"overloadOp":[],"rParen":{"kind":"RPAREN","value":")","pos":{"line":38,"column":48}}}],"lBrace":{"kind":"LCURL","value":"{","pos":{"line":6,"column":28}},"rBrace":{"kind":"RCURL","value":"}","pos":{"line":45,"column":1}}},"superTypeBitAnds":[],"superTypes":[{"_type":"TypeNode","beginPos":{"line":6,"column":20},"endPos":{"line":6,"column":27},"typeParameterName":{"kind":"IDENTIFIER","value":"","pos":{"line":85,"column":13}},"colon":{"kind":"COLON","value":":","pos":{"line":0,"column":0}}}],"upperBound":{"kind":"UPPERBOUND","value":"<:","pos":{"line":6,"column":17}}}],"importLists":[{"_type":"ImportList","modifier":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"keywordI":{"kind":"IMPORT","value":"import","pos":{"line":3,"column":1}},"content":{"_type":"ImportContent","importKind":"All","prefixPaths":[{"kind":"IDENTIFIER","value":"std","pos":{"line":3,"column":8}},{"kind":"IDENTIFIER","value":"ast","pos":{"line":3,"column":12}}],"prefixDots":[{"kind":"DOT","value":".","pos":{"line":3,"column":11}},{"kind":"DOT","value":".","pos":{"line":3,"column":15}}],"identifier":{"kind":"MUL","value":"*","pos":{"line":3,"column":16}},"importAlias":[],"lBrace":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"items":[],"commas":[],"rBrace":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}}}},{"_type":"ImportList","modifier":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"keywordI":{"kind":"IMPORT","value":"import","pos":{"line":4,"column":1}},"content":{"_type":"ImportContent","importKind":"All","prefixPaths":[{"kind":"IDENTIFIER","value":"std","pos":{"line":4,"column":8}},{"kind":"IDENTIFIER","value":"collection","pos":{"line":4,"column":12}}],"prefixDots":[{"kind":"DOT","value":".","pos":{"line":4,"column":11}},{"kind":"DOT","value":".","pos":{"line":4,"column":22}}],"identifier":{"kind":"MUL","value":"*","pos":{"line":4,"column":23}},"importAlias":[],"lBrace":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"items":[],"commas":[],"rBrace":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}}}}],"packageHeader":{"_type":"PackageHeader","accessible":{"kind":"ILLEGAL","value":"","pos":{"line":0,"column":0}},"keywordM":{"kind":"MACRO","value":"macro","pos":{"line":0,"column":0}},"keywordP":{"kind":"PACKAGE","value":"package","pos":{"line":1,"column":1}},"prefixPaths":[],"prefixDots":[],"packageIdentifier":{"kind":"IDENTIFIER","value":"final","pos":{"line":1,"column":9}}}}

export default {
  ...defaultParserInterface,

  id: ID,
  displayName: ID,
  version: '1.13.4',
  homepage: 'https://cangjie-lang.cn/',
  _ignoredProperties: new Set(['_type']),
  locationProps: new Set(['pos', 'beginPos', 'endPos']),

  async loadParser(callback) {
    // require(['astexplorer-go'], async parser => {
    // await parser.init()
    // callback(parser)
    // })
    callback({
      parseFile: (code) => {
        // Mock parsing logic
        return res;
      },
    });
  },

  parse(parser, code) {
    this.lineOffsets = [];
    let index = 0;
    do {
      this.lineOffsets.push(index);
    } while (index = code.indexOf('\n', index) + 1); // eslint-disable-line no-cond-assign
    console.info('lineOffsets', this.lineOffsets);
    return parser.parseFile(code);
  },

  getNodeName(node) {
    return node._type;
  },

  getOffset({ line, column }) {
    return this.lineOffsets[line - 1] + column - 1;
  },

  nodeToRange(node) {
    if (node.beginPos && node.endPos) {
      console.log('nodeToRange', node);
      const start = node.beginPos;
      const end = node.endPos;
      const startOffset = this.getOffset(start);
      const endOffset = this.getOffset(end);
      return [startOffset, endOffset];
    } else if (node.pos && node.value) {
      const start = node.pos;
      const end = node.pos + node.value.length;
      const startOffset = this.getOffset(start);
      const endOffset = this.getOffset(end);
      return [startOffset, endOffset];
    }
  },

  opensByDefault(node, key) {
    return node._type || Array.isArray(node);
  },
  
};
